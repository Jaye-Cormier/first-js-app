let a=function(){let f=[],a=document.querySelector("#filter_pokemon");function b(){return f}function c(a){f.push(a)}function d(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrlFront=b.sprites.front_default,a.imageUrlShiny=b.sprites.front_shiny,a.height=b.height,a.weight=b.weight,a.types=b.types}).catch(function(a){console.error(a)})}function e(a){d(a).then(function(){var b;let d,c,h,e,f,i,j,g;b=a,d=$(".modal-title"),c=$(".modal-body"),h=$('<h1 class="pokemon-name">'+b.name.toUpperCase()+"</h1>"),e=$('<img class="modal-img" style="width:50%">'),e.attr("src",b.imageUrlFront),f=$('<img class="modal-img" style="width:50%">'),f.attr("src",b.imageUrlShiny),i=$("<p>Height: "+b.height+"</p>"),j=$("<p>Weight: "+b.weight+"</p>"),g=document.createElement("p"),g.innerText="Type(s): ",b.types.forEach((a,c)=>{c===b.types.length-1?g.innerText+=a.type.name:g.innerText+=a.type.name+" and "}),d.empty(),c.empty(),d.append(h),c.append(i),c.append(j),c.append(g),c.append(e),c.append(f)})}return a.addEventListener("input",function(){let b=document.querySelectorAll("li"),c=a.value.toUpperCase();b.forEach(function(a){a.innerText.toUpperCase().indexOf(c)> -1?a.style.display="":a.style.display="none"})}),{getAll:b,add:c,addListItem:function(c){let d=document.querySelector(".list-group"),b=document.createElement("li"),a=document.createElement("button");a.innerText=c.name.toUpperCase(),a.classList.add("btn","btn-outline-danger","highlights-name","rounded-pill"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemonModal"),b.appendChild(a),d.appendChild(b),a.addEventListener("click",function(){e(c)})},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){let b={name:a.name,detailsUrl:a.url};c(b),console.log(b)})}).catch(function(a){console.error(a)})},loadDetails:d,showDetails:e}}();console.log(a.getAll()),a.loadList().then(function(){a.getAll().forEach(function(b){a.addListItem(b)})})
